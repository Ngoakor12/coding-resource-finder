(this["webpackJsonpacn-resource-finder"]=this["webpackJsonpacn-resource-finder"]||[]).push([[0],{19:function(e,r,t){},20:function(e,r,t){"use strict";t.r(r);var c=t(0),n=t.n(c),s=t(10),a=t.n(s),o=t(6),i=t(4),u=t(2),l=t(9),j=t.n(l),b=t(12),h=t(11),d=t(1),m=Object(c.createContext)();function O(e){var r=e.children,t=Object(c.useState)([]),n=Object(i.a)(t,2),s=n[0],a=n[1],o=Object(c.useState)([]),u=Object(i.a)(o,2),l=u[0],O=u[1];function x(){return(x=Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://acn-resource-finder-api.herokuapp.com/all/").then((function(e){return e.json()})).then((function(e){a(e.data)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){x.apply(this,arguments)}()}),[]),Object(d.jsx)(m.Provider,{value:{resources:s,setResources:a,bookmarks:l,addBookmark:function(e){var r=s.find((function(r){return r.url===e}));l.some((function(e){return e.url===r.url}))||O((function(e){return[].concat(Object(b.a)(e),[r])}))},removeBookmark:function(e){var r=l.filter((function(r){return r.url!==e}));O(r)}},children:r})}t(19);var x=function(){var e=Object(c.useContext)(m),r=e.bookmarks,t=e.removeBookmark;return Object(d.jsx)("div",{className:"resource-list",children:r.map((function(e){return Object(d.jsxs)("div",{className:"resource-wrapper",children:[Object(d.jsxs)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"resource",children:[Object(d.jsx)("h3",{className:"resource-title",children:e.title}),Object(d.jsx)("span",{className:"resource-type",children:e.type})]}),Object(d.jsx)("button",{className:"remove-bookmark-button",onClick:function(){return t(e.url)},children:"+"})]},e.url)}))})},f=function(){return Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("h1",{className:"header-title",children:"ACN Resource Finder"}),Object(d.jsx)("p",{className:"header-description",children:"A slightly easier way to find topics and projects on the ACN syllabus"})]})},p=function(){return Object(d.jsxs)("nav",{className:"nav",children:[Object(d.jsx)(o.b,{to:"/",className:"nav-item",name:"resources",children:"Resources"}),Object(d.jsx)(o.b,{to:"/bookmarks",className:"nav-item",name:"resources",children:"Bookmarks"})]})},k=function(){var e=Object(c.useContext)(m),r=e.resources,t=e.addBookmark,n=e.bookmarks,s=e.removeBookmark;return Object(d.jsx)("div",{className:"resource-list",children:0!==r.length?r.map((function(e){var r=n.find((function(r){return r.url===e.url}))?Object(d.jsx)("button",{className:"remove-bookmark-button",onClick:function(){s(e.url)},children:"+"}):Object(d.jsx)("button",{className:"bookmark-button",onClick:function(){t(e.url)},children:"+"});return Object(d.jsxs)("div",{className:"resource-wrapper",children:[Object(d.jsxs)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"resource",children:[Object(d.jsx)("h3",{className:"resource-title",children:e.title}),Object(d.jsx)("span",{className:"resource-type",children:e.type})]}),r]},e.url)})):Object(d.jsx)("h2",{className:"content-placeholder",children:"Loading resources..."})})},v=function(e){return Object(d.jsx)("div",{className:"search-input-wrapper",children:Object(d.jsx)("input",{type:"text",className:"search-input",placeholder:"search a resource...",onInput:e.setSearchTerm,onChange:e.handleSearch})})};var N=function(){var e=Object(c.useContext)(m),r=e.resources,t=e.setResources,n=Object(c.useState)(""),s=Object(i.a)(n,2),a=s[0],o=s[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f,{}),Object(d.jsxs)("main",{className:"main",children:[Object(d.jsx)("aside",{className:"aside-nav",children:Object(d.jsx)(p,{})}),Object(d.jsxs)("section",{className:"main-content",children:[Object(d.jsx)(v,{setSearchTerm:function(e){o(e.target.value)},handleSearch:function(){var e=[];(e=r.filter((function(e){return e.title.toLowerCase().includes(a.toLocaleLowerCase().trim())}))).length>0?(t(e),e=[]):t(r)}}),Object(d.jsxs)(u.c,{children:[Object(d.jsx)(u.a,{exact:!0,path:"/",element:Object(d.jsx)(k,{})}),Object(d.jsx)(u.a,{path:"/bookmarks",element:Object(d.jsx)(x,{})})]})]})]})]})};a.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(O,{children:Object(d.jsx)(o.a,{children:Object(d.jsx)(N,{})})})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.2bee68be.chunk.js.map